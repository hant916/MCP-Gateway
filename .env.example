# ===================================
# MCP Gateway Environment Variables
# ===================================
# Copy this file to .env and fill in your values
# DO NOT commit .env file to version control!

# ===================================
# Application Profile
# ===================================
# Options: dev, prod, mysql
SPRING_PROFILES_ACTIVE=dev

# ===================================
# Server Configuration
# ===================================
SERVER_PORT=8080

# ===================================
# Database Configuration
# ===================================
# For Development (H2)
# DATABASE_URL=jdbc:h2:mem:mcpdb;MODE=PostgreSQL
# DATABASE_USERNAME=sa
# DATABASE_PASSWORD=password

# For Production (PostgreSQL - Recommended)
DATABASE_URL=jdbc:postgresql://localhost:5432/mcpgateway
DATABASE_USERNAME=mcpgateway
DATABASE_PASSWORD=change_this_password_in_production

# For Production (MySQL Alternative)
# DATABASE_URL=jdbc:mysql://localhost:3306/mcpgateway?useSSL=false&serverTimezone=UTC
# DATABASE_USERNAME=mcpgateway
# DATABASE_PASSWORD=change_this_password_in_production

# Database Connection Pool
DB_POOL_SIZE=20
DB_POOL_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000

# ===================================
# JPA/Hibernate Configuration
# ===================================
# IMPORTANT: Use 'validate' in production, NOT 'update'
JPA_DDL_AUTO=validate
JPA_SHOW_SQL=false
JPA_FORMAT_SQL=false

# ===================================
# Flyway Migration
# ===================================
FLYWAY_ENABLED=true

# ===================================
# JWT Security Configuration
# ===================================
# CRITICAL: Generate a strong random key for production!
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=CHANGE_THIS_TO_A_STRONG_RANDOM_KEY_IN_PRODUCTION
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# ===================================
# Session Configuration
# ===================================
SESSION_EXPIRATION=3600

# ===================================
# CORS Configuration
# ===================================
# IMPORTANT: Restrict to specific origins in production!
# Example: https://app.yourdomain.com,https://admin.yourdomain.com
CORS_ALLOWED_ORIGINS=*
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=false
CORS_MAX_AGE=3600

# ===================================
# Swagger/OpenAPI
# ===================================
# Disable in production for security
SWAGGER_ENABLED=true

# ===================================
# Logging Configuration
# ===================================
LOG_LEVEL=INFO
APP_LOG_LEVEL=INFO
SECURITY_LOG_LEVEL=WARN
WEB_LOG_LEVEL=WARN
HIBERNATE_LOG_LEVEL=WARN

# Log File Configuration
LOG_FILE=logs/mcpgateway.log
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_MAX_HISTORY=30

# ===================================
# H2 Console (Development Only)
# ===================================
H2_CONSOLE_ENABLED=false

# ===================================
# Monitoring (Optional)
# ===================================
PROMETHEUS_ENABLED=false

# ===================================
# Production Security Checklist
# ===================================
# Before deploying to production:
# [ ] Change JWT_SECRET_KEY to a strong random value
# [ ] Set strong DATABASE_PASSWORD
# [ ] Restrict CORS_ALLOWED_ORIGINS to your domains
# [ ] Set JPA_DDL_AUTO=validate
# [ ] Set SWAGGER_ENABLED=false
# [ ] Set H2_CONSOLE_ENABLED=false
# [ ] Configure proper logging levels
# [ ] Enable HTTPS/TLS
# [ ] Set up proper database backups
# [ ] Configure monitoring and alerting
